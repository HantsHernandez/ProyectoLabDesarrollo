<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<div th:fragment="contenido" class="bg-white p-8 rounded-lg shadow-md w-full max-w-5xl mx-auto">
    <h2 class="text-2xl font-semibold text-gray-700 mb-6 text-center"
        th:text="${usuario == null ? 'Agregar Nuevo Usuario' : 'Modificar Usuario' }"></h2>

    <form method="post" th:action="@{${usuario == null ? '/guardar-usuario' : '/actualizar-usuario'}}" id="FormMarca">
        <div class="grid grid-cols-1 md:grid-cols-1 gap-6">
            <!--  Nombre Usuario -->
            <div>
                <label for="nombre" class="block text-gray-600 font-semibold">Nombre</label>
                <input type="text" id="nombre" name="nombre"
                       class="w-full p-2 border border-gray-300 rounded mt-1" placeholder="Ingrese el usuario"
                       th:value="${usuario != null ? usuario.nombre : ''}"
                       required>
            </div>

            <!--  Password -->
            <div>
                <label for="password" class="block text-gray-600 font-semibold">Password</label>
                <input type="password" id="password" name="password"
                       class="w-full p-2 border border-gray-300 rounded mt-1" placeholder="Ingrese la contraseÃ±a"
                       th:value="${usuario != null ? usuario.password : ''}"
                       required>
            </div>

            <!-- Empleado -->

            <div>
                <label for="empleado" class="block text-gray-600 font-semibold">Empleado</label>
                <select id="empleado" name="empleado.idEmpleado" class="w-full p-2 border border-gray-300 rounded mt-1" required>
                    <option value="" disabled selected>-- Seleccione un Empleado--</option>
                    <option th:each="empleado : ${listaEmpleados}"
                            th:value="${empleado.idEmpleado}"
                            th:text="${empleado.nombreEmpleado}"
                            th:selected="${usuario != null and usuario.empleado?.idEmpleado == empleado.idEmpleado}">
                    </option>
                </select>
            </div>


            <!-- Rol -->
            <div>
                <label for="rol" class="block text-gray-600 font-semibold">Rol</label>
                <select id="rol" name="roles" class="w-full p-2 border border-gray-300 rounded mt-1" required>
                    <option value="" disabled selected>-- Seleccione un rol--</option>
                    <option th:each="rol : ${listaRoles}"
                            th:value="${rol.id}"
                            th:text="${rol.rol}"
                            th:selected="${usuario != null and usuario.roles.contains(rol)}">
                    </option>
                </select>
            </div>


            <input type="hidden" name="id" th:value="${usuario != null ? usuario.id : ''}">
        </div>

        <!-- Botones para enviar y limpiar el formulario -->
        <div class="mt-8 flex justify-center space-x-4">
            <button type="button" onclick="limpiarFormulario()"
                    class="bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600">
                Limpiar
            </button>
            <button type="button" onclick="guardar_registros('FormMarca')" class="bg-nuevo text-white px-4 py-2 rounded hover:bg-green-800"
                    th:text="${usuario == null ? 'Agregar Usuario' : 'Modificar Usuario'}">
            </button>
        </div>
    </form>
</div>